<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>PAIS/PIDB Web APIs Demo</title>
<link href="home.css" rel="stylesheet" type="text/css" />
</head>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-380708-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<body>
<h1> Welcome to the demo page of PAIS/PIDB queries. </h1>
<div>

All the queries are executed upon PAIS database and Pathology Image Database (PIDB).

Output format can be changed by setting the <i>format</i> parameter. For text result, format can be HTML (format=html, default), XML (format=xml), or JSON (format=json).

If the output is an image, the format can be JPEG (format=jpg), PNG(format=png, default) or GIF(format=gif).  The format of a tile image can be tif (format=tif).

All the parameters are seperated by ";", and can be adjusted.

<br />
The Web APIs are documented in <a href="paiswebapi.pdf" target="_blank">PAIS Web APIs</a>.

</div>

<h2>PAIS Queries</h2>

<hr height="1" />

<h3>List Queries</h3>
<ol>
<li>Get all PAIS UIDs in PAIS database (HTML). Example: <a href="tcga/pais/list/paisuids" target="_blank">/pais/list/paisuids</a></li>
<li>Get all PAIS UIDs in PAIS database (XML). Example: <a href="tcga/pais/list/paisuids;format=xml" target="_blank">/pais/list/paisuids;format=xml</a></li>
<li>Get all PAIS UIDs in PAIS database (CSV). Example: <a href="tcga/pais/list/paisuids;format=csv" target="_blank">/pais/list/paisuids;format=csv</a></li>
<li>Get all image UIDs in PAIS database. Example: <a href="tcga/pais/list/imageuids" target="_blank">/pais/list/imageuids</a></li>
<li>Get all slide UIDs in PAIS database. Example: <a href="tcga/pais/list/slideuids" target="_blank">/pais/list/slideuids</a></li>
<li>Get all patient UIDs in PAIS database. Example: <a href="tcga/pais/list/patientuids" target="_blank">/pais/list/slideuids</a></li>
</ol>


<h3>Markup Queries</h3>
<div>Density:</div>
<ol>
<li>Get markup (nuclear) density of a tile. Example:  <a href="tcga/pais/markups/density/tile;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384" target="_blank">/pais/markups/density/tile;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384</a></li>
<li>Get markup (nuclear) density of a image. Example:  <a href="tcga/pais/markups/density/image;imageuid=TCGA-27-1836-01Z-DX2_20x;method=NS-MORPH;seqno=1" target="_blank">/pais/markups/density/image;imageuid=TCGA-27-1836-01Z-DX2_20x;method=NS-MORPH;seqno=1</a></li>
<li>Get markup (nuclear) density of a PAIS document. Example:  <a href="tcga/pais/markups/density/image;imageuid=TCGA-27-1836-01Z-DX2_20x;method=NS-MORPH;seqno=1" target="_blank">/pais/markups/density/document;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;format=html</a></li>
<li>Get all markup (nuclear) density grouped by image. Example: <a href="tcga/pais/markups/density/groupbyimage" target="_blank">/pais/markups/density/groupbyimage</a></li>
<li>Get all markup (nuclear) density grouped by PAISUID. Example: <a href="tcga/pais/markups/density/groupbydocument" target="_blank">/pais/markups/density/groupbydocument</a></li>
</ol>


<div>Boundaries:</div>
<ol>
<li>Get markup (nuclear) boundaries of a  tile. Example: <a href="tcga/pais/markups/boundaries/tile;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384;format=svg" target="_blank">/pais/markups/boundaries/tile;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384;format=svg</a></li>
<li>Get markup (nuclear) boundaries in a  window (SVG). Example: <a href="tcga/pais/markups/boundaries/window;imageuid=TCGA-27-1836-01Z-DX2_20x;x=4096;y=16384;w=600;h=600;samplingrate=3;format=svg" target="_blank">/pais/markups/boundaries/window;imageuid=TCGA-27-1836-01Z-DX2_20x;x=4096;y=16384;w=600;h=600;samplingrate=3;format=svg</a></li>
<li>Get markup (nuclear) boundaries in a  polygon. Example: <a href="tcga/pais/markups/boundaries/polygon;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384;polygon=&quot;4096 16384,4496 16384,4496 20384,4096 20384,4096 16384&quot;;samplingrate=1;format=svg" target="_blank">/pais/markups/boundaries/polygon;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384;polygon="4096 16384,4496 16384,4496 20384,4096 20384,4096 16384";samplingrate=1;format=html";samplingrate=1;format=svg</a></li>
<li>Get markup (nuclear) boundaries of a point. Example: <a href="tcga/pais/markups/boundaries/containingpoint;imageuid=TCGA-27-1836-01Z-DX2_20x;x=300;y=300;" target="_blank">/pais/markups/boundaries/containingpoint;imageuid=TCGA-27-1836-01Z-DX2_20x;x=300;y=300;</a></li>
<li>Get markup (nuclear) boundaries of intersections of 2 PAIS documents containing the same tile name. Example: <a href="tcga/pais/markups/boundaries/intersection;tilename=gbm1.1-0000040960-0000040960;paisuid1=gbm1.1_40x_20x_NS-MORPH_1;paisuid2=gbm1.1_40x_20x_NS-MORPH_2" target="_blank">/pais/markups/boundaries/intersection;tilename=gbm1.1-0000040960-0000040960;paisuid1=gbm1.1_40x_20x_NS-MORPH_1;paisuid2=gbm1.1_40x_20x_NS-MORPH_2</a></li>
</ol>

<div>Centroids:</div>
<ol>
<li>Get markup centroids of a tile. Example: <a href="tcga/pais/markups/centroids/tile;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384" target="_blank">/pais/markups/centroids/tile;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384</a></li>
<li>Get markup centroids of a window. Example: <a href="tcga/pais/markups/centroids/window;imageuid=TCGA-27-1836-01Z-DX2_20x;x=4096;y=16384;w=300;h=300" target="_blank">/pais/markups/centroids/window;imageuid=TCGA-27-1836-01Z-DX2_20x;x=4096;y=16384;w=300;h=300</a></li>
<li>Get markup centroids of a polygon. Example: <a href="tcga/pais/markups/centroids/polygon;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384;polygon=&quot;4096 16384,4496 16384,4496 20384,4096 20384,4096 16384&quot;" target="_blank">/pais/markups/centroids/polygon;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384;polygon="4096 16384,4496 16384,4496 20384,4096 20384,4096 16384"</a></li>
</ol>

<h3>Document Queries</h3>

<div>Document:</div>
<ol>
<li>Return PAIS document (zipped XML format) of a tile. Example: <a href="tcga/pais/documents/tile;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384" target="_blank">/pais/documents/tile;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384</a></li>
</ol>

<h3>Feature Queries</h3>

<div>Basic features:</div>
<ol>
<li>Return all features from a tile. Example: <a href="tcga/pais/features/tile;paisuid=TCGA-15-1448-01Z-00-DX1_20x_20x_NS-MORPH_1;tilename=TCGA-15-1448-01Z-00-DX1-0000040960-0000032768" target="_blank">/pais/features/tile;paisuid=TCGA-15-1448-01Z-00-DX1_20x_20x_NS-MORPH_1;tilename=TCGA-15-1448-01Z-00-DX1-0000040960-0000032768</a></li>
<li>Return feature histogram image of a document. Example: <a href="tcga/pais/features/histogram;paisuid=TCGA-02-0001-01Z-00-DX1_20x_20x_NS-MORPH_1;feature=area;width=1200;height=700;format=PNG" target="_blank">/pais/features/histogram;paisuid=TCGA-02-0001-01Z-00-DX1_20x_20x_NS-MORPH_1;feature=area;width=1200;height=700;format=PNG</a></li>
</ol>

<div>Aggregation features:</div>
<ol>
<li>Return all feature aggregation of a document. Example: <a href="tcga/pais/features/aggregation/document;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1" target="_blank">/pais/features/aggregation/document;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1</a></li>
<li>Return all feature aggregation of an image. Example: <a href="tcga/pais/features/aggregation/image;imageuid=TCGA-27-1836-01Z-DX2_20x" target="_blank">/pais/features/aggregation/image;imageuid=TCGA-27-1836-01Z-DX2_20x</a></li>
<li>Return all feature aggregation of a patient. Example: <a href="tcga/pais/features/aggregation/patient;patientuid=0187" target="_blank">/pais/features/aggregation/patient;patientuid=0187</a></li>
</ol>

<br />



<h2>PIDB Queries</h2>

<hr height="1" />

<h3>List Queries</h3>

<div>List Queries:</div>
<ol>
<li>List all image uids in the database (HTML). Example: <a href="tcga/images/list/imageuids" target="_blank">/images/list/imageuids</a></li>
<li>List all image uids of a patient. Example: <a href="tcga/images/list/imageuids;patientid=0152" target="_blank">/images/list/imageuids;patientid=0152</a></li>
<li>List all tilenames of an image. Example: <a href="tcga/images/list/tilenames;imageuid=TCGA-06-0152-01Z-00-DX6_20x" target="_blank">/images/list/tilenames;imageuid=TCGA-06-0152-01Z-00-DX6_20x</a></li>
<li>List all tilenames of a tileset. Example: <a href="tcga/images/list/tilenames;tilset=1" target="_blank">/images/list/tilenames;tilset=1</a></li>
<li>Return the tilename which contains a point. Example: <a href="tcga/images/list/tilenameofpoint;imageuid=TCGA-06-0152-01Z-00-DX6_20x;x=12289;y=5000;format=html" target="_blank">/images/list/tilenameofpoint;imageuid=TCGA-06-0152-01Z-00-DX6_20x;x=12289;y=5000</a></li>
</ol>

<h3>Image queries</h3>

<div>Image queries:</div>

<ol>
<li>Download a tile image. Example: <a href="tcga/images/image/tile;tilename=TCGA-06-0152-01Z-00-DX6-0000016384-0000004096;format=tif" target="_blank">/images/image/tile;tilename=TCGA-06-0152-01Z-00-DX6-0000016384-0000004096;format=tif</a></li>
<li>Download the image contained in a window. Example: <a href="tcga/images/image/window;imageuid=TCGA-27-1836-01Z-DX2_20x;x=17706;y=2844;w=800;h=800;format=PNG" target="_blank">/images/image/window;imageuid=TCGA-27-1836-01Z-DX2_20x;x=17706;y=2844;w=800;h=800;format=PNG</a></li>
<li>Download a whole slide image. Example: <a href="tcga/images/image/wsi;imageuid=TCGA-27-1836-01Z-DX2_20x" target="_blank">/images/image/wsi;imageuid=TCGA-27-1836-01Z-DX2_20x</a></li>
<li>Retrieve the dimension of a whole slide image. Example: <a href="tcga/images/image/dimension;imagereferenceuid=TCGA-06-0152-01Z-00-DX6_20x;format=csv" target="_blank">images/image/dimension;imagereferenceuid=TCGA-06-0152-01Z-00-DX6_20x;format=csv</a></li>
<li>Retrieve the coordinates of all tiles of a whole slide image. Example: <a href="tcga/images/image/tiling/positions;imagereferenceuid=TCGA-06-0152-01Z-00-DX6_20x;width=4096;height=4096;format=csv" target="_blank">images/image/tiling/positions;imagereferenceuid=TCGA-06-0152-01Z-00-DX6_20x;width=4096;height=4096;format=csv</a></li>
</ol>

<div>Thumbnail queries:</div>
<ol>
<li>Visualize thumbnail of a tile. Example: <a href="tcga/images/thumbnail/tile;tilename=TCGA-06-0152-01Z-00-DX6-0000016384-0000004096" target="_blank">/images/thumbnail/tile;tilename=TCGA-06-0152-01Z-00-DX6-0000016384-0000004096</a></li>
<li>Visualize thumbnail of a whole slide image. Example: <a href="tcga/images/thumbnail/wsi;imageuid=TCGA-27-1836-01Z-DX2_20x" target="_blank">/images/thumbnail/wsi;imageuid=TCGA-27-1836-01Z-DX2_20x</a></li>
</ol>

<div>Overlay queries:</div>
<ol>
<li>Visualize markups on top of a tile image. Example: <a href="tcga/images/overlay/tile;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384" target="_blank">/images/overlay/tile;paisuid=TCGA-27-1836-01Z-DX2_20x_20x_NS-MORPH_1;tilename=TCGA-27-1836-01Z-DX2-0000004096-0000016384</a></li>
<li>Visualize markups on top of a window image. Example: <a href="tcga/images/overlay/window;imageuid=TCGA-27-1836-01Z-DX2_20x;x=4096;y=16384;w=800;h=800;samplingrate=3;format=jpg" target="_blank">/images/overlay/window;imageuid=TCGA-27-1836-01Z-DX2_20x;x=4096;y=16384;w=800;h=800;samplingrate=3;format=jpg</a></li>
</ol>

<div>Similarity queries:</div>
<ol>
<li>Visualize region icons of all similar objects (based on mean features) for a document. Example: <a href="tcga/images/similarity/feature;paisuid=TCGA-06-0195-01Z-00-DX5_20x_20x_NS-MORPH_1;rowsize=10;format=png" target="_blank">/images/similarity/feature;paisuid=TCGA-06-0195-01Z-00-DX5_20x_20x_NS-MORPH_1;rowsize=5;format=png</a></li>
<!-- <li>Visualize region icons of all similar objects (based on mean features) for a patient. Example: <a href="tcga/images/similarity/feature;rowsize=5;format=png" target="_blank">/images/similarity/feature;rowsize=5;format=png</a></li> -->
<li>Visualize region icons of all similar objects (based on nuclear clustering label) for a document. Example: <a href="tcga/images/similarity/cluster;imageuid=TCGA-02-0010-01Z-00-DX3_20x;label=2;rowsize=10;format=png" target="_blank">/images//tcga/images/similarity/cluster;imageuid=TCGA-02-0010-01Z-00-DX3_20x;label=2;rowsize=10;format=png</a></li>
</ol>



</body>
</html>